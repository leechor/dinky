{
    "type": "object",
    "title": "KafKaSourceOperator",
	"description": "KafKa源算子",
	"minItems": 1,
        "required": [
			"connector",
			"topic",
			"properties.bootstrip.servers",
			"format"
        ],
        "properties": {

		"connector": {
			"type": "string",
			"default": "kafka",
			"enum":["kafka"]
		},
		"topic": {
			"type": "string",
			"minLength": 1,
			"title": "topic",
			"pattern":"^[A-Za-z0-9:-_./]*$",
			"examples": [
				"sensor"
			]
		},
		"properties.bootstrip.servers": {
			"type": "string",
			"default": "hadoop102:9092",
			"pattern":"^[A-Za-z0-9:_./]*$",
			"minLength": 1,
			"title": "properties.bootstrip.servers",
			"examples": [
				"hadoop102:9092"
			]
		},
		"format": {
			"type": "string",
			"default": "json",
			"minLength": 1,
			"pattern":"^[A-Za-z0-9_]*$",
			"title": "format",
			"examples": [
				"json"
			]
		},
		"tableName": {
			"type": "string",
			"title": "tableName",
			"description": "表名称，若为空将随机生成"
		},
		
	   "other":{
		 "title": "otherConnect",
		 "description": "扩展字段",
		  "type": "array",
		  "items": {
			"type": "object",
			"title": "otherConfig",
			"required": [
				"key",
				"values"
			],
			"properties": {
				"key": {
					"type": "string",
					"minLength": 1,
					"description": "自定义字段的key，与values共同构成：key = values 的结构 ",
					"title": "key"
				},
				"values": {
					"type": "string",
					"minLength": 1,
					"description": "自定义字段的values，与key共同构成：key = values 的结构",
					"title": "values"
				}
			}
		  }
	   },
		
		"columns": {
			"type": "array",
			"minItems": 1,
			"title": "columns",
			"items": {
				"type": "object",
				"title": "schema",
				"required": [
					"name",
					"type",
					"flag"
				],
				"properties": {
					"name": {
						"type": "string",
						"minLength": 1,
						"pattern":"^[A-Za-z0-9_]*$",
						"title": "name",
						"examples": [
							"typ",
							"taskId",
							"taskStatus",
							"dt",
							"WATERMARK FOR dt AS dt - INTERVAL '15' SECOND",
							"PRIMARY KEY(taskId) NOT ENFORCED "
						],
						"description": "field name"
					},
					"type": {
						"type": "string",
						"minLength": 1,
						"title": "type",
						"default": "STRING",
						"enum":["CHAR","VARCHAR","STRING","BOOLEAN","BINARY","VARBINARY","BYTES","DECIMAL","TINYINT","SMALLINT","INT","BIGINT","FLOAT","DOUBLE","DATE","TIME","TIMESTAMP","TIMESTAMP(3)","TIMESTAMP_LTZ(3)","INTERVAL","ARRAY","MULTISET","MAP","ROW","RAW"],
						"examples": [
							"STRING",
							"INT",
							"TIMESTAMP(3)"
						]
					},
					"flag":{
						"type": "boolean",
						"default": true,
						"title": "checked ?"
					},
					"decs":{
						"type": "string",
						"description": "备注"
					}
					}
				}
			}
		},
		"primary":{
			"type": "string",
			"pattern":"^[A-Za-z0-9_]*$",
			"description": "设置主键"
		},
		"watermark":{
		  "type": "object",
		  "properties": {
			"column": {
				"type": "string",
				"pattern":"^[A-Za-z0-9_]*$",
				"description": "指定为watermark的列，需要TIMESTAMP或TIMESTAMP_LTZ类型"
			},
			"timeSpan": {
				"type": "integer",
				"minimum":0,
				"description": "指定最大延时时间"
			},
			"timeUnit": {
				"type": "string",
				"enum":["SECOND","MINUTE","DAY","MONTH","YEAR"],
				"description": "延时单位"
			}
		  },
		  "additionalProperties":false
		}
	}
}