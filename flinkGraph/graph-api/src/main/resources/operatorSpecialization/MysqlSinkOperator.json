{
    "type": "object",
    "title": "MySQLSinkOperator",
	"description": "MySQL输出算子",
	"minItems": 1,
        "required": [
			"connector",
			"url",
			"username",
			"password"
        ],
        "properties": {

		"tableName": {
			"type": "string",
			"title": "tableName",
			"description": "表名称，若为空将随机生成"
		},
		"connector": {
			"type": "string",
			"default": "jdbc",
			"minLength": 1,
			"title": "connector",
			"enum":["jdbc"]
		},
		"url": {
			"type": "string",
			"minLength": 1,
			"title": "jdbc-url",
			"description": "mysql jdbc url， eg :mysql://127.0.0.1:3306"
		},
		"username": {
			"type": "string",
			"default": "root",
			"minLength": 1,
			"title": "username",
			"examples": [
				"root"
			]
		},
		"password": {
			"type": "string",
			"default": "123456",
			"minLength": 1,
			"title": "password",
			"examples": [
				"123456"
			]
		},
		
	   "other":{
		 "title": "otherConnect",
		  "type": "array",
		  "items": {
			"type": "object",
			"title": "otherConfig",
			"required": [
				"key",
				"values"
			],
			"properties": {
				"key": {
					"type": "string",
					"minLength": 1,
					"description": "自定义字段的key，与values共同构成：key = values 的结构 "
				},
				"values": {
					"type": "string",
					"minLength": 1,
					"description": "自定义字段的values，与key共同构成：key = values 的结构"
				}
			}
		  }
	   },
		
		"columns": {
			"type": "array",
			"minItems": 1,
			"title": "columns",
			"items": {
				"type": "object",
				"title": "schema",
				"required": [
					"name",
					"type",
					"flag"
				],
				"properties": {
					"name": {
						"type": "string",
						"minLength": 1,
						"title": "name",
						"pattern":"^[A-Za-z0-9_]*$",
						"format": "autoinput",
						"autoinput": {
							  "name": "my-autoComplete",
							  "function": {
								"name": "getFieldsByConfig"
							}
						  },
						"examples": [
							"typ",
							"taskId",
							"taskStatus",
							"dt",
							"WATERMARK FOR dt AS dt - INTERVAL '15' SECOND",
							"PRIMARY KEY(taskId) NOT ENFORCED "
						],
						"description": "字段名名称"
					},
					"type": {
						"type": "string",
						"minLength": 1,
						"title": "type",
						"default": "STRING",
						"enum":["CHAR","VARCHAR","STRING","BOOLEAN","BINARY","VARBINARY","BYTES","DECIMAL","TINYINT","SMALLINT","INT","BIGINT","FLOAT","DOUBLE","DATE","TIME","TIMESTAMP","TIMESTAMP(3)","TIMESTAMP_LTZ(3)","INTERVAL","ARRAY","MULTISET","MAP","ROW","RAW"],
						"examples": [
							"STRING",
							"INT",
							"TIMESTAMP(3)"
						]
					},
					"flag":{
						"type": "boolean",
						"default": true,
						"description": "是否勾选为输出"
					},
					"decs":{
						"type": "string",
						"description": "备注"
					}
				}
			}
		},
		"primary":{
			"type": "string",
			"format": "autoinput",
			"autoinput": {
			  "name": "my-autoComplete",
			  "function": {
				"name": "getFieldsByConfig"
			}
		  },
			"description": "设置主键"
		},
		
		"watermark":{
		  "type": "object",
		  "properties": {
			"column": {
				"type": "string",
				"format": "autoinput",
				"autoinput": {
					  "name": "my-autoComplete",
					  "function": {
						"name": "getFieldsByConfig"
					}
				  },
				"pattern":"^[A-Za-z0-9_]*$",
				"description": "指定为watermark的列，需要TIMESTAMP或TIMESTAMP_LTZ类型"
			},
			"timeSpan": {
				"type": "integer",
				"minimum":0,
				"description": "指定最大延时时间"
			},
			"timeUnit": {
				"type": "string",
				"enum":["SECOND","MINUTE","DAY","MONTH","YEAR"],
				"description": "延时单位"
			}
		  },
		  "additionalProperties":false
		}
		
	}
}