{
	"type": "object",
	"title": "CustomerSourceOperator",
	"description": "自定义输入算子，通过添加自定义参数，实现对任意输入方式的兼容",
	"format": "categories",
	"basicCategoryTitle": "service",
	"properties": {
		"service": {
			"properties": {
				"tableName": {
					"type": "string",
					"title": "tableName",
					"description": "表名称，若为空将随机生成"
				},
				"other": {
					"title": "customerConnect",
					"type": "array",
					"items": {
						"type": "object",
						"title": "config",
						"required": [
							"key",
							"values"
						],
						"properties": {
							"key": {
								"type": "string",
								"minLength": 1,
								"description": "自定义字段的key，与values共同构成：key = values 的结构 ",
								"title": "key"
							},
							"values": {
								"type": "string",
								"minLength": 1,
								"description": "自定义字段的values，与key共同构成：key = values 的结构",
								"title": "values"
							}
						}
					}
				},
				"primary": {
					"type": "string",
					"pattern": "^[A-Za-z0-9_]*$",
					"description": "设置主键",
					"format": "autoinput",
					"autoinput": {
						"name": "my-autoComplete",
						"function": {
							"name": "getFieldsByConfig"
						}
					}
				},
				"watermark": {
					"type": "object",
					"properties": {
						"column": {
							"type": "string",
							"pattern": "^[A-Za-z0-9_]*$",
							"description": "指定为watermark的列，需要TIMESTAMP或TIMESTAMP_LTZ类型",
							"format": "autoinput",
							"autoinput": {
								"name": "my-autoComplete",
								"function": {
									"name": "getFieldsByConfig"
								}
							}
						},
						"timeSpan": {
							"type": "integer",
							"minimum": 0,
							"description": "指定最大延时时间"
						},
						"timeUnit": {
							"type": "string",
							"enum": [
								"SECOND",
								"MINUTE",
								"DAY",
								"MONTH",
								"YEAR"
							],
							"description": "延时单位"
						}
					},
					"additionalProperties": false
				}
			}
		},
		"output": {
			"type": "object",
			"properties": {
				"columns": {
					"type": "array",
					"title": "mapping",
					"items": {
						"type": "object",
						"title": "schema",
						"required": [
							"name",
							"type"
						],
						"properties": {
							"outName": {
								"type": "string"
							},
							"name": {
								"type": "string",
								"minLength": 1,
								"pattern": "^[A-Za-z0-9_]*$",
								"title": "name",
								"description": "field name"
							},
							"type": {
								"type": "string",
								"minLength": 1,
								"title": "type",
								"default": "STRING",
								"enum": [
									"CHAR",
									"VARCHAR",
									"STRING",
									"BOOLEAN",
									"BINARY",
									"VARBINARY",
									"BYTES",
									"DECIMAL",
									"TINYINT",
									"SMALLINT",
									"INT",
									"BIGINT",
									"FLOAT",
									"DOUBLE",
									"DATE",
									"TIME",
									"TIMESTAMP",
									"TIMESTAMP(3)",
									"TIMESTAMP_LTZ(3)",
									"INTERVAL",
									"ARRAY",
									"MULTISET",
									"MAP",
									"ROW",
									"RAW"
								]
							},
							"desc": {
								"type": "string",
								"description": "备注"
							}
						}
					}
				},
				"source": {
					"type": "array",
					"title": "source",
					"items": {
						"type": "object",
						"title": "schema",
						"properties": {
							"name": {
								"type": "string",
								"minLength": 1,
								"pattern": "^[A-Za-z0-9_]*$",
								"title": "name",
								"description": "field name"
							},
							"type": {
								"type": "string",
								"minLength": 1,
								"title": "type",
								"default": "STRING",
								"enum": [
									"CHAR",
									"VARCHAR",
									"STRING",
									"BOOLEAN",
									"BINARY",
									"VARBINARY",
									"BYTES",
									"DECIMAL",
									"TINYINT",
									"SMALLINT",
									"INT",
									"BIGINT",
									"FLOAT",
									"DOUBLE",
									"DATE",
									"TIME",
									"TIMESTAMP",
									"TIMESTAMP(3)",
									"TIMESTAMP_LTZ(3)",
									"INTERVAL",
									"ARRAY",
									"MULTISET",
									"MAP",
									"ROW",
									"RAW"
								]
							},
							"desc": {
								"type": "string",
								"description": "备注"
							}
						}
					}
				}
			}
		}
	}
}